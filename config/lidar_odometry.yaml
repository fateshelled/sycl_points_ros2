lidar_odometry_node:
  ros__parameters:
    # gpu or cpu
    sycl/device_type: gpu
    # intel or nvidia or amd
    sycl/device_vendor: intel

    T_base_link_to_lidar/x: 0.0
    T_base_link_to_lidar/y: 0.0
    T_base_link_to_lidar/z: 0.0
    T_base_link_to_lidar/qx: 0.0
    T_base_link_to_lidar/qy: 0.0
    T_base_link_to_lidar/qz: 0.0
    T_base_link_to_lidar/qw: 1.0

    scan/covariance/neighbor_num: 30
    scan/preprocess/box_filter/enable: true
    scan/preprocess/box_filter/max: 50.0
    scan/preprocess/box_filter/min: 2.0
    scan/preprocess/random_sampling/enable: true
    scan/preprocess/random_sampling/num: 1000
    scan/downsampling/voxel/enable: false
    scan/downsampling/voxel/voxel_size: 0.5
    scan/downsampling/polar/enable: true
    scan/downsampling/polar/distance_size: 0.5  # meters
    scan/downsampling/polar/elevation_size: 0.05235987755982989 # 3 degrees
    scan/downsampling/polar/azimuth_size: 0.05235987755982989   # 3 degrees
    scan/downsampling/polar/coord_system: CAMERA # CAMERA or LIDAR

    submap/covariance/neighbor_num: 30
    submap/color_gradient/neighbor_num: 30
    submap/voxel_size: 1.0
    submap/max_distance_range: 50.0
    submap/point_random_sampling_num: 2000
    keyframe/inlier_ratio_threshold: 0.7
    keyframe/distance_threshold: 2.0
    keyframe/angle_threshold_degrees: 20.0
    keyframe/time_threshold_seconds: 1.0
    occupancy_grid_map/enable: true
    occupancy_grid_map/log_odds_hit: 0.5
    occupancy_grid_map/log_odds_miss: -0.01
    occupancy_grid_map/log_odds_limits/min: -4.0
    occupancy_grid_map/log_odds_limits/max: 4.0
    occupancy_grid_map/occupied_threshold: 0.8
    occupancy_grid_map/enable_pruning: true
    occupancy_grid_map/stale_frame_threshold: 200

    gicp/motion_prediction/factor: 0.2
    gicp/min_num_points: 300
    gicp/max_iterations: 4
    gicp/lambda: 1.0e-4
    gicp/max_correspondence_distance: 2.0
    gicp/criteria/translation: 1.0e-3
    gicp/criteria/rotation: 1.0e-6
    gicp/robust/type: GEMAN_MCCLURE  # NONE, HUBER, TUKEY, CAUCHY, GEMAN_MCCLURE
    gicp/robust/auto_scale: true
    gicp/robust/init_scale: 10.0
    gicp/robust/min_scale: 1.25
    gicp/robust/scaling_iter: 4
    gicp/photometric/enable: false
    gicp/photometric/photometric_weight: 0.2
    gicp/optimization_method: DOGLEG  # GN, LM, DOGLEG
    gicp/lm/max_inner_iterations: 10
    gicp/lm/lambda_factor: 10.0
    gicp/lm/max_lambda: 1.0e+6
    gicp/lm/min_lambda: 1.0e-6
    gicp/dogleg/initial_trust_region_radius: 1.0
    gicp/dogleg/max_trust_region_radius: 5.0
    gicp/dogleg/min_trust_region_radius: 1.0e-3
    gicp/dogleg/eta1: 0.25
    gicp/dogleg/eta2: 0.75
    gicp/dogleg/gamma_decrease: 0.25
    gicp/dogleg/gamma_increase: 2.0
    gicp/verbose: false
